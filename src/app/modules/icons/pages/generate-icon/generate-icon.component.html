<div style="height: 100%">
  <h4 style="padding-left: 24px; margin-bottom: 0px">
    {{ "groups.layers.icon.select_icon" | translate }}
  </h4>
  <div fxLayout style="max-height: calc(100% - 24px)">
    <div fxFlex="70%" style="overflow-y: scroll">
      <app-icons> </app-icons>
    </div>
    <div fxFlex="30%" style="text-align: center"  [hidden]="mode != 'svg'">
      <div #iconOrigin></div>
      <div #circleSvg></div>
      <div #squareSvg></div>

      <mat-slide-toggle [fxHide]="!displayBackground" #slide>
        {{ "groups.layers.generate_icon.background" | translate }}
      </mat-slide-toggle>
      <div #containerColorPicker >
        <app-color-picker
          [width]="'100%'"
          style="display: block; padding: 20px"
          [colorLabel]="'groups.layers.generate_icon.icon_color' | translate"
          [colorForm]="iconColorForm"
          [position]="icon_id?.value ? 'top-left' : 'bottom-left'"
          [container]="containerColorPicker"
        ></app-color-picker>
      </div>
      <div #containerColorPicker_>
        <app-color-picker
        [width]="'100%'"
        style="display: block; padding: 20px"
        [colorLabel]="'groups.layers.generate_icon.icon_bg_color' | translate"
        [colorForm]="backgroundColor"
        [position]="icon_id?.value ? 'top-left' : 'bottom-left'"
        [container]="containerColorPicker_"
        *ngIf="slide.checked"
      ></app-color-picker>
      </div>
      
    </div>

    <div fxFlex="30%" style="text-align: center" [hidden]="mode != 'raster'">
      <img
        src="{{ url_prefix + (iconSelected | async)?.path }}"
        style="width: 100px; height: auto"
      />
    </div>
  </div>
</div>
